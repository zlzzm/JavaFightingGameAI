class player {
  moves moves;
  AI ai;

  float x, y; //the x and y positions
  color c; //the color
  int health = 100; //the health
  boolean boolUPkey, boolDOWNkey, boolLEFTkey, boolRIGHTkey, boolLIGHT, boolHEAVY, boolBLOCK; //just the bools for the WASD, shoot, and block keys
  char UPkey, DOWNkey, LEFTkey, RIGHTkey, LIGHTkey, HEAVYkey, BLOCKkey; //the actual keys
  boolean facingLeft;
  boolean lightAttack;
  int pSpeed = 6; //the player speed

  //the animation checkers for the player:
  boolean aniLIGHT = false;
  boolean aniHEAVY = false;

  //the cooldowns
  int lightCooldown = 50;
  int heavyCooldown = 50;
  int lightCooldownDuration = 500;
  int heavyCooldownDuration = 1500;
  boolean lightOnCooldown = false;
  boolean heavyOnCooldown = false;

  //the blocks
  int blockStartTime = 0;
  int blockDuration = 1000; // ms of active block
  boolean isBlocking = false;

  //CONSTRUCTOR START
  player(int startingX, int startingY, color Color, char setUPkey, char setLEFTkey, char setDOWNkey, char setRIGHTkey, char setLIGHT, char setHEAVY, char setBLOCK, lightAttackAnimation l, heavyAttackAnimation h, blockAnimation b) {
    x = startingX;
    y = startingY;
    c = Color;
    UPkey = setUPkey;
    DOWNkey = setDOWNkey;
    LEFTkey = setLEFTkey;
    RIGHTkey = setRIGHTkey;
    LIGHTkey = setLIGHT;
    HEAVYkey = setHEAVY;
    BLOCKkey = setBLOCK;
    moves = new moves(l, h, b);
  }
  //CONSTRUCTOR END

  //AI CONSTRUCTOR START - item 1 in definitions
  player(float startingX, float startingY, color Color) {
    x = startingX;
    y = startingY;
    c = Color;
  }
  //AI CONSTRUCTOR END

  void show() { //the actual show thing
    fill(c);
    rect(x, y, 100, 100);
    if (boolLEFTkey) facingLeft = true;
    if (boolRIGHTkey) facingLeft = false;
    textSize(80);
    text(health, x, y);
  }
  void updateMovement() { //just the functions to actually update the movement
    if (boolUPkey) {
      y -= pSpeed;
    }
    if (boolDOWNkey) {
      y += pSpeed;
    }
    if (boolLEFTkey) {
      x -= pSpeed;
    }
    if (boolRIGHTkey) {
      x += pSpeed;
    }
  }
  void setDirection(char key1, boolean state) {
    if (key1 == UPkey) boolUPkey = state;
    else if (key1 == DOWNkey) boolDOWNkey = state;
    else if (key1 == LEFTkey) boolLEFTkey = state;
    else if (key1 == RIGHTkey) boolRIGHTkey = state;
    else if (key1 == LIGHTkey) boolLIGHT = state;
    else if (key1 == HEAVYkey) boolHEAVY = state;
    else if (key1 == BLOCKkey) boolBLOCK = state;
  }
  void handleAttacks(player attacker, player reciever) {
    if (boolLIGHT && !lightOnCooldown) {
      if (millis() - lightCooldown >= lightCooldownDuration) {
        println("LIGHT ATTACK!");
        lightCooldown = millis();
        moves.light(attacker, reciever);
        lightOnCooldown = true;
      }
    }

    if (boolHEAVY && !heavyOnCooldown) {
      if (millis() - heavyCooldown >= heavyCooldownDuration) {
        println("HEAVY ATTACK!");
        heavyCooldown = millis();
        moves.heavy(attacker, reciever);
        heavyOnCooldown = true;
      }
    }
    if (millis() - blockStartTime > blockDuration) {
      isBlocking = false;
    }
    if (boolBLOCK) {
      moves.block(this); // activate block
    }
  }
}
